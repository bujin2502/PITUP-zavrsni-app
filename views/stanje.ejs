<html lang="hr">
  <%- include("./partials/head.ejs") %>
  <body>
    <%- include("./partials/nav.ejs") %>

    <h1>Provjera osobe</h1>

    <table style="width: 99%">
      <tr>
        <td style="width: 25%">
          <label for="myInput1" name="myInput1">Ime: </label>
          <input
            type="text"
            id="myInput1"
            onkeyup="myFunctionIme()"
            placeholder="Pretraga po imenu.."
            title="Upiši ime"
          />
        </td>
        <td style="width: 25%">
          <label for="myInput2" name="myInput2">Prezime: </label>
          <input
            type="text"
            id="myInput2"
            onkeyup="myFunctionPrezime()"
            placeholder="Pretraga po prezimenu.."
            title="Upiši prezime"
          />
        </td>
        <td style="width: 25%">
          <label for="myInput3" name="myInput3">Godište: </label>
          <input
            type="text"
            id="myInput3"
            onkeyup="myFunctionGodiste()"
            placeholder="Pretraga po godištu.."
            title="Upiši godište"
          />
        </td>
        <td style="width: 25%">
          <label for="myInput4" name="myInput4">OIB: </label>
          <input
            type="text"
            id="myInput4"
            onkeyup="myFunctionOIB()"
            placeholder="Pretraga po OIB-u.."
            title="Upiši OIB"
          />
        </td>
      </tr>
    </table>

    <table id="myTable" border="1" style="width: 99%">
      <thead>
        <tr>
          <th style="width: 25%">Ime</th>
          <th style="width: 25%">Prezime</th>
          <th style="width: 25%">Godište</th>
          <th style="width: 25%">OIB</th>
        </tr>
      </thead>
      <tbody>
        <% osobe.forEach(function(osoba){ %>
        <tr>
          <td><%= osoba.ime %></td>
          <td><%= osoba.prezime %></td>
          <td><%= osoba.godiste %></td>
          <td><%= osoba.OIB %></td>
        </tr>
        <% }) %>
      </tbody>
    </table>

    <script>
      function myFunctionIme() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput1");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[0];
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      }
    </script>

    <script>
      function myFunctionPrezime() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput2");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[1];
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      }
    </script>

    <script>
      function myFunctionGodiste() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput3");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[2];
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      }
    </script>

    <script>
      function myFunctionOIB() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("myInput4");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
          td = tr[i].getElementsByTagName("td")[3];
          if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              tr[i].style.display = "";
            } else {
              tr[i].style.display = "none";
            }
          }
        }
      }
    </script>

    <%- include("./partials/footer.ejs") %>
  </body>
</html>
